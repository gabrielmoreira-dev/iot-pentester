import kivy

kivy.require('1.11.1')
from kivy.app import App
from kivy.uix.label import Label
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.scrollview import ScrollView
from kivy.core.window import Window

Window.size = 400, 600

from nmap_script import Nmap


class DeviceListView(ScrollView):
    def __init__(self, device_list, **kwargs):
        super().__init__(**kwargs)
        for device in device_list: 
            self.ids.layout.add_widget(
                DeviceListItem(device)
            )


class DeviceListItem(Label):
    def __init__(self, device, **kwargs):
        super().__init__(**kwargs)
        self.text = device


class MapPage(App):

    def build(self):
        layout = BoxLayout(orientation='vertical')

        title = Label(
            text = 'Dispositivos encontrados',
            font_size=24
        )

        layout.add_widget(title)
        layout.add_widget(DeviceListView(
            ['192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',
             '192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',
             '192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',
             '192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',
             '192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',
             '192.168.1.32', '192.168.1.33', '192.168.1.32', '192.168.1.33',]
        ))
        return layout


MapPage().run()
